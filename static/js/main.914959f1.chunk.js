(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(37)},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=a(9),i=a.n(o),u=a(21),s=a(11),m=a(8),d=a(1),p=a(7),f=a(13),h=a.n(f);Object(p.config)();var E=function(e){var t=e.data,a=Object(d.g)().day;if(!t)return r.a.createElement("div",null,"Loading...");var n=t[1].list.filter((function(e){return e.dt_txt.substring(0,10)===a}));if(!n)return r.a.createElement(d.a,{to:"/"});var c=n[0].dt_txt.substring(0,10);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"weather-detail"},r.a.createElement("h4",null,h()(c).format("LL")),n.map((function(e){return r.a.createElement("li",{key:e.dt},h()(e.dt_txt).format("LT")," ",r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"weather"})," ",e.main.temp," \xb0C")})),r.a.createElement("p",null,r.a.createElement(m.b,{to:"/"},"Back"))))};Object(p.config)();var g=function(e){e.id;var t=e.data,a=t.temp,n=a.min,c=a.max,l=t.weather[0].icon,o=new Date(1e3*t.dt).toDateString().substring(0,3),i=new Date(1e3*t.dt).toISOString().substring(0,10),u=t.humidity,s=t.pressure;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{style:{textDecoration:"none",color:"#000"},to:"/".concat(i)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"title"},o),r.a.createElement("div",{className:"img-day"},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(l,"@2x.png"),alt:"weather"})),r.a.createElement("div",{className:"temps"},r.a.createElement("p",null,"Min: ",Math.round(n)," \xb0C"),r.a.createElement("p",null,"Max: ",Math.round(c)," \xb0C"),r.a.createElement("p",null,"Humidity: ",u,"%"),r.a.createElement("p",null,"Pressure: ",s,"hPa")))))},v=function(e){var t=e.data,a=t[0].timezone,n=/\w*$/gm.exec(a)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"WeeklyForecast for ",n),r.a.createElement("hr",null),r.a.createElement("div",{className:"card-container"},t&&t[0].daily.map((function(e){return r.a.createElement(g,{key:e.dt,data:e})}))))};Object(p.config)();var b=function(e){var t=e.data;return t[0].daily.shift(),t[0].daily.pop(),t[0].daily.pop(),r.a.createElement(m.a,{basename:"/weather-app"},r.a.createElement("div",{className:"container"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(v,{data:t})),r.a.createElement(d.b,{path:"/:day",children:r.a.createElement(E,{data:t})}))))},w=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,c,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.latitude,n=t.longitude,r=["https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(n,"&exclude=current,minutely,alerts&appid=").concat("24d7eab231aa80194d6732c8effdded4","&units=metric"),"https://api.openweathermap.org/data/2.5/forecast?lat=".concat(a,"&lon=").concat(n,"&appid=").concat("24d7eab231aa80194d6732c8effdded4","&units=metric")],c=[],e.next=5,fetch(r[0]);case 5:return l=e.sent,e.next=8,l.json();case 8:return o=e.sent,c.push(o),e.next=12,fetch(r[1]);case 12:return l=e.sent,e.next=15,l.json();case 15:return o=e.sent,c.push(o),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))};function x(){return(x=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,a=t.coords.latitude,n=t.coords.longitude,e.abrupt("return",{latitude:a,longitude:n});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){return x.apply(this,arguments)})().then((function(e){try{localStorage.setItem("location",JSON.stringify(e))}catch(t){console.log(t)}w(e).then((function(e){c(e)}))}))}),[]),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(b,{data:a}))};a(36);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.querySelector("#root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.914959f1.chunk.js.map