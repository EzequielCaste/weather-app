(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(37)},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=a(6),i=a.n(l),u=a(12),s=a(8),m=a(10),p=a(1),d=a(9),f=a(14),g=a.n(f);function h(){return(h=Object(s.a)(i.a.mark((function e(){var t,a,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("location")),a=t.latitude,n=t.longitude,r="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(a,"&lon=").concat(n,"&appid=").concat("24d7eab231aa80194d6732c8effdded4","&units=metric"),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(d.config)();var E=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(p.g)().day;if(Object(n.useEffect)((function(){(function(){return h.apply(this,arguments)})().then((function(e){c(e)}))}),[]),console.log(a),!a)return r.a.createElement("div",null,"Loading...");var l=a.list.filter((function(e){return e.dt_txt.substring(0,10)===o}));if(a.list.map((function(e){})),console.log(l),!l)return r.a.createElement(p.a,{to:"/"});var i=l[0].dt_txt.substring(0,10);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"weather-detail"},r.a.createElement("h4",null,g()(i).format("LL")),l.map((function(e){return r.a.createElement("li",{key:e.dt},g()(e.dt_txt).format("LT")," ",r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),alt:"weather"})," ",e.main.temp," \xb0C")})),r.a.createElement("p",null,r.a.createElement(m.b,{to:"/"},"Back"))))};Object(d.config)();var b=function(e){e.id;var t=e.data,a=t.temp,n=a.min,c=a.max,o=t.weather[0].icon,l=new Date(1e3*t.dt).toDateString().substring(0,3),i=new Date(1e3*t.dt).toISOString().substring(0,10);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{style:{textDecoration:"none",color:"#000"},to:"/".concat(i)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"title"},l),r.a.createElement("div",{className:"img-day"},r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"weather"})),r.a.createElement("div",{className:"temps"},r.a.createElement("p",{className:"min"},"Min: ",n," \xb0C"),r.a.createElement("p",{className:"max"},"Max: ",c," \xb0C")))))},v=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"WeeklyForecast"),r.a.createElement("hr",null),r.a.createElement("div",{className:"card-container"},t&&t.daily.map((function(e){return r.a.createElement(b,{id:e.dt,key:e.dt,data:e})}))))};Object(d.config)();var w=function(e){var t=e.data;return r.a.createElement(m.a,{basename:"/weather-app"},r.a.createElement("div",{className:"container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(v,{data:t})),r.a.createElement(p.b,{path:"/:day",children:r.a.createElement(E,null)}))))},x=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.latitude,n=t.longitude,r="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(n,"&exclude=current,minutely,alerts&appid=").concat("24d7eab231aa80194d6732c8effdded4","&units=metric"),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))};function O(){return(O=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,a=t.coords.latitude,n=t.coords.longitude,e.abrupt("return",{latitude:a,longitude:n});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){try{localStorage.setItem("location",JSON.stringify(e))}catch(t){console.log(t)}x(e).then((function(e){e.daily.shift(),e.daily.pop(),e.daily.pop(),c(e)}))}))}),[]),console.log(a),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(w,{data:a}))};a(36);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.querySelector("#root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0d3665e5.chunk.js.map